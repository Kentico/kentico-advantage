{"version":3,"sources":["webpack:///./src/components/table-of-contents.js","webpack:///./src/components/scenario.js","webpack:///./src/components/scenarios.js","webpack:///./src/templates/phase.js","webpack:///./src/components/teaser.js","webpack:///./src/components/breadcrumbs.js","webpack:///./src/components/references.js"],"names":["TableOfContentsContainer","styled","div","_templateObject","style","toc_background","TableOfContents","render","headings","this","getHeadingsFromText","props","content","react_default","a","createElement","map","heading","index","key","href","title","text","regex","found","exec","console","log","push","React","Component","Scenario","_this","_React$Component","call","toggleVisibility","event","setState","state","active","toggleVisiblity","bind","assertThisInitialized_default","scenario","system","id","class","onClick","elements","value","dangerouslySetInnerHTML","__html","detail","ScenariosContainer","scenarios_templateObject","zone_content_foreground","scenarios_background","scenarios_bottom_border","heading_foreground","scenarios_selected_background","scenarios_plus_foreground","sm","_templateObject2","Scenarios","data","Array","isArray","length","scenarios","components_scenario","IconContainer","phase_templateObject","query","__webpack_exports__","_ref","phase","allKenticoCloudItemPhase","edges","node","layout","pageId","Helmet_default","breadcrumbs","jumbotron","className","background","options","codename","page","url","header","teaser","content_zone","icon","assets","src","alt","table_of_contents","resolvedHtml","replace","parseTables","components_scenarios","references","Teaser","react__WEBPACK_IMPORTED_MODULE_1___default","_content_zone__WEBPACK_IMPORTED_MODULE_2__","children","BreadcrumbsContainer","nav","breadcrumbs_foreground","md","Breadcrumbs","react__WEBPACK_IMPORTED_MODULE_3___default","gatsby__WEBPACK_IMPORTED_MODULE_6__","contentItemId","rootNode","allKenticoCloudItemNavigationItem","breadcrumbItems","to","currentItems","child_items","foundFirstLevelItem","findItem","getLink","i","secondLevelCurrentItems","foundSecondLevelItem","secondLevelCurrentItemsPhase","filter","item","content_item","type","j","foundSubPhase","edge","subphases","_public_static_d_2331568009_json__WEBPACK_IMPORTED_MODULE_2__","items","currentItem","navItem","References","reference","target","rel","Fragment"],"mappings":"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","file":"component---src-templates-phase-js-6a05e23617e409437892.js","sourcesContent":["import React from \"react\"\nimport styled from \"styled-components\"\nimport * as style from '../styles'\n\nconst TableOfContentsContainer = styled.div`\n    ol\n    {\n        background: ${style.palette.toc_background};\n        margin: 0;\n        padding: 10px 10px 5px 15px;\n        list-style-type: none;\n    }\n`;\n\nclass TableOfContents extends React.Component\n{\n    render(){\n        const headings = this.getHeadingsFromText(this.props.content);\n\n        return (\n            <TableOfContentsContainer>\n                <p>On this page:</p>\n                <ol>\n                    {headings.map((heading, index) => <li key={index}><a key={index} href={'#h' + index} title={heading}>{heading}</a></li>)}\n                </ol>\n            </TableOfContentsContainer>\n        );\n    }\n\n    getHeadingsFromText(text){\n        var headings = []; \n        var regex = /<h2>((<a(.*?)>)*(.*?)(<\\/a>)*)<\\/h2>/gim;\n        var found = regex.exec(text);\n\n        while (found != null) {\n            console.log(found[4]);\n            headings.push(found[4]);\n            found = regex.exec(text);\n        }\n\n        return headings;\n    }\n}\n\nexport default TableOfContents","import React from \"react\"\n\n\nclass Scenario extends React.Component\n{\n    constructor(props) {\n        super(props);\n        this.state = {active: false};\n        this.toggleVisiblity = this.toggleVisibility.bind(this);\n    }\n\n    toggleVisibility = event => {\n        this.setState(state => ({active: !state.active}));\n    }\n\n    render(){\n        return (<li key={this.props.scenario.system.id}>\n            <h3><a class={this.state.active ? 'open' : 'closed'} href=\"javascript:;\" onClick={this.toggleVisibility}>{this.props.scenario.elements.title.value}</a></h3>\n                {this.state.active &&  \n            <div dangerouslySetInnerHTML={{__html: this.props.scenario.elements.detail.value}}></div>}\n        </li>);\n    }\n}\n\nexport default Scenario","import React from \"react\"\nimport styled from \"styled-components\"\nimport * as style from '../styles'\nimport Scenario from './scenario'\n\nconst ScenariosContainer = styled.div`\n\ncolor: ${style.palette.zone_content_foreground};\n\nul\n{\n\tlist-style-type: none;\n\tmargin: 0;\n}\n\nul li\n{\n\tbackground: ${style.palette.scenarios_background};\n\tborder-bottom: 1px solid ${style.palette.scenarios_bottom_border};\n\tpadding: 10px 20px;\n\tdisplay: block;\n}\nul li::before\n{\n\tdisplay: none;\n\tcontent: none;\n}\n\nh3\n{\n\tmargin: -10px -20px;\n}\n\nh3 a\n{\n\tpadding: 10px 20px;\n\tcursor: pointer;\n\tdisplay: flex;\n\tflex-direction: row;\n\ttext-decoration: none;\n\tcolor: ${style.palette.heading_foreground};\n}\nh3 a:hover,\nh3 a.open\n{\n\tbackground: ${style.palette.scenarios_selected_background};\n}\nh3 a::before\n{\n\tcolor: ${style.palette.scenarios_plus_foreground};\n\tfont-size: 1.6em;\n\tpadding-right: 20px;\n\talign-self: center;\n\tflex: 0 0 20px;\n\ttext-align: center;\n}\nh3 a.closed::before\n{\n\tcontent: \"+\";\n}\nh3 a.open::before\n{\n\tcontent: \"-\";\n}\nul li div\n{\n\tmargin: 20px 0 10px;\n}\n\n${style.media.sm`\n    ul li div\n\t{\n\t\tmargin-left: 40px;\n\t}\n`}\n\n.zone ul.scenarios\n{\n\tmargin-bottom: 20px;\n}\n`;\n\nclass Scenarios extends React.Component\n{\n    render(){\n        if (!this.props.data || !Array.isArray(this.props.data) || this.props.data.length === 0)\n        {\n            return null;\n        }\n\n        var scenarios = this.props.data.map((scenario, index) => {\n            return (<Scenario scenario={scenario} />);\n        });\n\n        if (scenarios)\n        {\n            scenarios = \n                (<ScenariosContainer>\n                    <ul>\n                        {scenarios}\n                    </ul>\n                </ScenariosContainer>);\n        }\n\n        return scenarios;\n    }\n}\n\nexport default Scenarios","import React from \"react\"\nimport Layout from \"../components/layout\"\nimport Jumbotron from \"../components/jumbotron\"\nimport Helmet from 'react-helmet'\nimport Teaser from \"../components/teaser\"\nimport ContentZone from \"../components/content-zone\"\nimport Breadcrumbs from \"../components/breadcrumbs\"\nimport TableOfContents from \"../components/table-of-contents\"\nimport Scenarios from \"../components/scenarios\"\nimport References from \"../components/references\"\nimport {graphql} from 'gatsby'\nimport styled from 'styled-components'\n\nconst IconContainer = styled.div`\nimg\n{\n    width: 238px;\n    height: 238px;\n}\n`\n\nexport default ({data}) => {\n    const phase = data.allKenticoCloudItemPhase.edges[0].node;\n    var addAnchors = function(text){\n        var textAfter = text.replace(/<h2/g, (() => {\n            var index = 0;\n            return () => {\n                return '<h2 id=\"h' + index++ + '\"';\n            }\n        })());\n        return textAfter;\n    };\n    var parseTables = function(text){\n        return text.replace(/(<td>)\\{\\.(.*?)\\}+/g, '<td class=\"$2\">');\n    }\n\n    return (\n        <Layout pageId={phase.system.id}>\n            <Helmet>\n                <title>{phase.elements.title.value}</title>\n            </Helmet>\n            \n            <Breadcrumbs pageId={phase.system.id} />\n            \n            <main>\n                <Jumbotron\n                    className={'jumbotron-content-page ' + phase.elements.background.options[0].codename}\n                    page={phase.elements.url.value}\n                    header={phase.elements.title.value}\n                />\n\n                <Teaser>\n                    <span dangerouslySetInnerHTML={{__html: phase.elements.teaser.value}}></span>\n                </Teaser>\n\n                <ContentZone className=\"right-zone\">\n                    {phase.elements.icon && Array.isArray(phase.elements.icon.assets) && phase.elements.icon.assets.length === 1 &&\n                        <IconContainer className=\"icon\">\n                            <img\n                                src={phase.elements.icon.assets[0].url}\n                                alt={phase.elements.title.value}>\n                            </img>\n                        </IconContainer>\n                    }\n\n                    <TableOfContents content={phase.elements.content.resolvedHtml} />\n                </ContentZone>\n                \n\n                <ContentZone>\n                    <div dangerouslySetInnerHTML={{__html: parseTables(addAnchors(phase.elements.content.resolvedHtml))}}></div>\n                </ContentZone>\n\n                {phase.elements.scenarios && Array.isArray(phase.elements.scenarios) && phase.elements.scenarios.length > 0 && \n                <ContentZone>\n                    <Scenarios data={phase.elements.scenarios} />\n                </ContentZone>\n                }\n\n                {phase.elements.references && Array.isArray(phase.elements.references) && phase.elements.references.length > 0 &&\n                <ContentZone>\n                    <References data={phase.elements.references} />\n                </ContentZone>\n                }\n            </main>\n        </Layout>\n        );\n    }\n\nexport const query = graphql`\n    query($id: String!) {\n        allKenticoCloudItemPhase (filter: {system: {id: {eq: $id}}}) {\n            edges {\n                node {\n                    elements {\n                        title {\n                        value\n                        }\n                        url {\n                        value\n                        }\n                        content {\n                            value\n                            resolvedHtml\n                        }\n                        overview {\n                            value\n                        }\n                        teaser{\n                            value\n                        }\n                        icon{\n                            assets{\n                                url\n                            }\n                        }\n                        background{\n                            options{\n                                codename\n                            }\n                        }\n                        scenarios\n                        {\n                            system { id }\n                            elements{\n                                title { value }\n                                detail { value }\n                            }\n                        }\n                        references\n                        {\n                            system { id }\n                            elements{\n                                title { value }\n                                url { value }\n                            }\n                        }\n                    }\n                    system {\n                        id\n                    }\n                }\n            }\n        }\n    }\n`","import React from \"react\"\nimport ContentZone from \"./content-zone\"\n\nclass Teaser extends React.Component\n{\n    render(){\n        return (\n            <ContentZone className=\"highlighted\">\n                {this.props.children}\n            </ContentZone>)\n    }\n}\n\nexport default Teaser","import React from \"react\"\nimport * as style from '../styles'\nimport styled from \"styled-components\"\nimport { graphql, StaticQuery, Link } from \"gatsby\"\n\n\nconst BreadcrumbsContainer = styled.nav`\n    position: absolute;\n\tz-index: 1;\n\tdisplay: flex;\n\talign-items: rows;\n\ttext-shadow: 0 1px 5px #424545;\n\tcolor: ${style.palette.breadcrumbs_foreground};\n\tpadding-top: 10px;\n    \n    ${style.media.md`\n        top: 60px;\n    `}\n\t\n\ta\n\t{\n\t\tmargin-right: 6px;\n\t\tcolor: ${style.palette.breadcrumbs_foreground};\n\t\ttext-decoration: underline;\n\t}\n\t\n\ta:last-of-type { text-decoration: none; }\n\t\n\ta:hover\n\t{\n\t\tcolor: ${style.palette.breadcrumbs_foreground};\n\t\ttext-decoration: none;\n\t}\n\t\n\ta+a::before\n\t{\n\t\tdisplay: inline-block;\n\t\tmargin-right: 6px;\n\t\tcontent: \"/\";\n\t}  \n`;\n\nclass Breadcrumbs extends React.Component\n{\n    render(){\n        return (\n            <StaticQuery \n                query={graphql`\n                {\n                    allKenticoCloudItemNavigationItem(filter: {elements: {url: {value: {eq: \"~\"}}}}) {\n                      edges {\n                        node {\n                          elements {\n                            child_items {\n                              system { id }\n                              elements {\n                                title { value }\n                                content_item {\n                                  system {\n                                    id\n                                  }\n                                  elements {\n                                    url {\n                                      value\n                                    }\n                                    title {\n                                      value\n                                    }\n                                  }\n                                }\n                                child_items {\n                                  system { id }\n                                  elements {\n                                    content_item {\n                                      system {\n                                        id\n                                        type\n                                      }\n                                      elements {\n                                        url {\n                                          value\n                                        }\n                                        title {\n                                          value\n                                        }\n                                      }\n                                    }\n                                  }\n                                }\n                              }\n                            }\n                          }\n                        }\n                      }\n                    }\n                    allKenticoCloudItemPhase {\n                        edges {\n                          node {\n                            system {\n                              id\n                            }\n                            elements {\n                              subphases {\n                                system {\n                                  id\n                                }\n                                elements {\n                                    title {value}\n                                    url {value}\n                                }\n                              }\n                            }\n                          }\n                        }\n                      }\n                  }\n                `}\n                render={data => {\n                    const contentItemId = this.props.pageId;\n                    const rootNode = data.allKenticoCloudItemNavigationItem.edges[0].node;\n                    var breadcrumbItems = [\n                        <Link to=\"/\" title=\"Introduction\" key=\"0\">Introduction</Link>\n                    ];\n\n                    var currentItems = rootNode.elements.child_items;\n                    var foundFirstLevelItem = this.findItem(currentItems, contentItemId);\n\n                    if (foundFirstLevelItem)\n                    {\n                        breadcrumbItems.push(this.getLink(foundFirstLevelItem));\n                    }\n                    else\n                    {\n                        // find in sublevel\n                        for (var i = 0; i < currentItems.length; i++)\n                        {\n                            var secondLevelCurrentItems = currentItems[i].elements.child_items;\n                            var foundSecondLevelItem = this.findItem(secondLevelCurrentItems, contentItemId);\n                            if (foundSecondLevelItem)\n                            {\n                                breadcrumbItems.push(this.getLink(currentItems[i]));\n                                breadcrumbItems.push(this.getLink(foundSecondLevelItem));\n\n                                break;\n                            }\n                            else\n                            {\n                                // check third level if phase\n                                var secondLevelCurrentItemsPhase = secondLevelCurrentItems.filter(item => Array.isArray(item.elements.content_item) && item.elements.content_item.length === 1 && item.elements.content_item[0].system.type === 'phase');\n\n                                for (var j = 0; j < secondLevelCurrentItemsPhase.length; j++)\n                                {\n                                    // get phase reference\n                                    var phase = data.allKenticoCloudItemPhase.edges.filter(edge => edge.node.system.id === secondLevelCurrentItems[j].elements.content_item[0].system.id);\n\n                                    // search subphases\n                                    var foundSubPhase = phase[0].node.elements.subphases.filter(item => item.system.id === contentItemId);\n\n                                    if (foundSubPhase.length === 1)\n                                    {\n                                        breadcrumbItems.push(this.getLink(currentItems[i]));\n                                        breadcrumbItems.push(this.getLink(secondLevelCurrentItems[j]));\n                                        breadcrumbItems.push(<Link key={foundSubPhase[0].system.id} to={foundSubPhase[0].elements.url.value} title={foundSubPhase[0].elements.title.value}>{foundSubPhase[0].elements.title.value}</Link>);\n\n                                        break;\n                                    }\n                                }\n                            }\n                        }\n                    }\n\n                    return (\n                        <BreadcrumbsContainer>\n                            {breadcrumbItems.map(item => item)}\n                        </BreadcrumbsContainer>\n                        );\n                }}\n            />\n        )\n    }\n\n    findItem(items, contentItemId)\n    {\n        var currentItem = items.filter(navItem => Array.isArray(navItem.elements.content_item) && navItem.elements.content_item.length === 1 && navItem.elements.content_item[0].system.id === contentItemId);\n        if (currentItem.length === 1)\n            return currentItem[0];\n\n        return null;\n    }\n    getLink(item)\n    {\n        if (item.elements.content_item.length === 1)\n        {\n            return <Link key={item.system.id} to={item.elements.content_item[0].elements.url.value} title={item.elements.content_item[0].elements.title.value}>{item.elements.content_item[0].elements.title.value}</Link>\n        }\n        else\n        {\n            return <Link key={item.system.id} to=\"/\" title={item.elements.title.value}>{item.elements.title.value}</Link>\n        }\n    }\n}\n\nexport default Breadcrumbs","import React from \"react\"\n\nclass References extends React.Component\n{\n    render(){\n        if (!this.props.data || !Array.isArray(this.props.data) || this.props.data.length === 0)\n        {\n            return null;\n        }\n\n        var references = this.props.data.map((reference, index) => {\n            return (<li key={reference.system.id}><a target=\"_blank\" title={reference.elements.title.value} href={reference.elements.url.value} rel=\"noopener noreferrer\">{reference.elements.title.value}</a></li>);\n        });\n\n        if (references)\n        {\n            references = \n                (<React.Fragment>\n\t\t\t\t\t<h2>References</h2>\n                    <ul>\n                        {references}\n                    </ul>\n\t\t\t\t</React.Fragment>);\n        }\n\n        return references;\n    }\n}\n\nexport default References"],"sourceRoot":""}