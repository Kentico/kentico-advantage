{"version":3,"sources":["webpack:///./src/components/search-results.js","webpack:///./src/pages/search.js"],"names":["SearchResultsContainer","styled","div","withConfig","displayName","componentId","style","jumbotron_content_heading_foreground","sm","_templateObject","a_foreground","a_hover_foreground","SearchResults","props","_this","_React$Component","call","this","performSearch","event","preventDefault","AzureSearch","url","key","search","searchInput","value","processSearchResults","err","results","setState","state","query","searching","searchQuery","bind","assertThisInitialized_default","componentDidMount","render","_this2","searchResults","map","item","react_default","a","createElement","content_zone","id","href","title","dangerouslySetInnerHTML","__html","teaser","noResults","jumbotron","className","onSubmit","htmlFor","type","name","ref","input","defaultValue","length","React","Component","__webpack_exports__","pageData","location","replace","includes","layout","Helmet_default","search_results"],"mappings":"obAOA,IAAMA,EAAyBC,UAAOC,IAAVC,WAAA,CAAAC,YAAA,yCAAAC,YAAA,YAAGJ,CAAH,6jBAGXK,IAAcC,qCAsCzBD,IAAYE,GAzCUC,KAkDXH,IAAcI,aAQdJ,IAAcK,oBAqFhBC,cA9EX,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OACfA,EAAAC,EAAAC,KAAAC,KAAMJ,IAANI,MAiBJC,cAAgB,SAACC,GACTA,GAEAA,EAAMC,iBAGGC,IAAY,CACrBC,IAAK,+CACLC,IAAK,qCAEFC,OAAO,iCAAkC,CAACA,OAAQV,EAAKW,YAAYC,OAAQZ,EAAKa,uBA5BxEb,EA+BnBa,qBAAuB,SAACC,EAAKC,GACzBf,EAAKgB,SAAS,SAACC,GAAD,MAAY,CACtBC,MAAOD,EAAMC,MACbH,QAASA,EACTI,WAAW,MAjCfnB,EAAKiB,MAAQ,CACTC,MAAOlB,EAAKD,MAAMqB,YAClBL,QAAS,GACTI,UAAsC,OAA3BnB,EAAKD,MAAMqB,aAE1BpB,EAAKI,cAAgBJ,EAAKI,cAAciB,KAAnBC,QAAAtB,KACrBA,EAAKa,qBAAuBb,EAAKa,qBAAqBQ,KAA1BC,QAAAtB,KARbA,sCAWnBuB,kBAAA,WACQpB,KAAKc,MAAMC,OAEXf,KAAKC,cAAc,SAyB3BoB,OAAA,WAAQ,IAAAC,EAAAtB,KACAuB,EAAgBvB,KAAKc,MAAMF,QAAQY,IAAI,SAACC,GAAD,OAC3CC,EAAAC,EAAAC,cAACC,EAAA,EAAD,CAAavB,IAAKmB,EAAKK,IACnBJ,EAAAC,EAAAC,cAAA,KAAGG,KAAMN,EAAKpB,IAAK2B,MAAOP,EAAKO,OAAON,EAAAC,EAAAC,cAAA,UAAKH,EAAKO,QAChDN,EAAAC,EAAAC,cAAA,OAAKK,wBAAyB,CAACC,OAAQT,EAAKU,aAG5CC,EACAV,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACIH,EAAAC,EAAAC,cAAA,4CACAF,EAAAC,EAAAC,cAAA,uDAGJZ,EACAU,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACIH,EAAAC,EAAAC,cAAA,4BAAoB5B,KAAKc,MAAMC,MAA/B,QACAW,EAAAC,EAAAC,cAAA,uEAIR,OACIF,EAAAC,EAAAC,cAAC7C,EAAD,KACI2C,EAAAC,EAAAC,cAACS,EAAA,EAAD,CACIC,UAAU,iCACVZ,EAAAC,EAAAC,cAAA,QAAMW,SAAUvC,KAAKC,eACjByB,EAAAC,EAAAC,cAAA,SAAOY,QAAQ,SAAf,gBACAd,EAAAC,EAAAC,cAAA,SAAOa,KAAK,OAAOC,KAAK,QAAQC,IAAK,SAACC,GAAYtB,EAAKd,YAAcoC,GAAUC,aAAc7C,KAAKc,MAAMC,UAI/Gf,KAAKc,MAAME,UACRA,EACEO,EAAcuB,OAAS,EACrBvB,EACEa,OA3EEW,IAAMC,WCjEnBC,EAAA,iBAACC,GACZ,IAAIjC,EAAciC,EAASC,SAAS5C,OAAO6C,QAAQ,MAAO,IAK1D,OAJInC,EAAYoC,SAAS,OAErBpC,EAAc,MAEVS,EAAAC,EAAAC,cAAC0B,EAAA,EAAD,KACJ5B,EAAAC,EAAAC,cAAC2B,EAAA5B,EAAD,KACID,EAAAC,EAAAC,cAAA,gCAEJF,EAAAC,EAAAC,cAAA,YACIF,EAAAC,EAAAC,cAAC4B,EAAD,CAAevC,YAAaA","file":"component---src-pages-search-js-0a7de0d7ca06c3be3fd8.js","sourcesContent":["import React from \"react\"\nimport styled from \"styled-components\"\nimport * as style from '../styles'\nimport AzureSearch from 'azure-search'\nimport ContentZone from './content-zone'\nimport Jumbotron from \"../components/jumbotron\"\n\nconst SearchResultsContainer = styled.div`\n    form\n    {\n        color: ${style.palette.jumbotron_content_heading_foreground};\n        line-height: 1.1em;\n        font-weight: 300;\n        padding: 10px 20px;\n        display: flex;\n        align-items: baseline;\n    }\n\n    form label\n    {\n        font-size: 2em;\n        white-space: nowrap;\n        padding-right: 10px;\n    }\n\n    form input[type=text]\n    {\n        font-weight: bold;\n        display: inline-block;\n        border: 0;\n        border-bottom: 2px solid #9196cd;\n        padding: 0 0 0 10px;\n        background: transparent;\n        font-size: 2em;\n        color: #fff;\n        font-family: 'Source Sans Pro', sans-serif;\n        min-width: 0;\n        width: 100%;\n        \n        transition: all 0.3s;\n        -webkit-transition: all 0.3s;\n    }\n    form input:focus\n    {\n        outline: none;\n        border-color: #fff;\n    }\n\n    ${style.media.sm`\n        form label, form input[type=text]\n        {\n            font-size: 3.2em;\n        }\n    `}\n\n    a h2\n    {\n        color: ${style.palette.a_foreground};\n    }\n    a:hover\n    {\n        text-decoration: none;\n    }\n    a:hover h2\n    {\n        color: ${style.palette.a_hover_foreground};\n    }\n\n`;\n\nclass SearchResults extends React.Component\n{\n    constructor(props) {\n        super(props);\n        this.state = {\n            query: this.props.searchQuery,\n            results: [],\n            searching: this.props.searchQuery !== null\n        };\n        this.performSearch = this.performSearch.bind(this);\n        this.processSearchResults = this.processSearchResults.bind(this);\n    }\n\n    componentDidMount(){\n        if (this.state.query)\n        {\n            this.performSearch(null);\n        }\n    }\n\n    performSearch = (event) => {\n        if (event)\n        {\n            event.preventDefault();\n        }\n\n        var client = AzureSearch({\n            url: 'https://kentico-advantage.search.windows.net',\n            key: '7140BE1173CB92C78644B3962E4EE57F'\n        });\n        client.search('kentico-advantage-search-index', {search: this.searchInput.value}, this.processSearchResults);\n    }\n\n    processSearchResults = (err, results) => {\n        this.setState((state) => ({\n            query: state.query,\n            results: results,\n            searching: false\n        }));\n    }\n\n    render(){\n        var searchResults = this.state.results.map((item) => \n        <ContentZone key={item.id}>\n            <a href={item.url} title={item.title}><h2>{item.title}</h2></a>\n            <div dangerouslySetInnerHTML={{__html: item.teaser }}></div>\n        </ContentZone>        \n        );\n        var noResults = (\n            <ContentZone>\n                <h2>Your search yielded no results</h2>\n                <p>Please check if your spelling is correct.</p>\n            </ContentZone>\n        );\n        var searching = (\n            <ContentZone>\n                <h2>Searching for '{this.state.query}'...</h2>\n                <p>Please give us a moment to find what you are looking for.</p>\n            </ContentZone>\n        );\n\n        return (\n            <SearchResultsContainer>\n                <Jumbotron\n                    className=\"jumbotron-content-page violet\">\n                    <form onSubmit={this.performSearch}>\n                        <label htmlFor=\"query\">Results for:</label>\n                        <input type=\"text\" name=\"query\" ref={(input) => { this.searchInput = input; }} defaultValue={this.state.query} />\n                    </form>\n                </Jumbotron>\n                \n                {this.state.searching ? \n                    searching\n                    : searchResults.length > 0 ?\n                        searchResults\n                        : noResults }\n            </SearchResultsContainer>)\n    }\n}\n\nexport default SearchResults","import React from \"react\"\nimport Layout from \"../components/layout\"\nimport Helmet from 'react-helmet'\nimport SearchResults from \"../components/search-results\"\n\nexport default (pageData) => {\n    var searchQuery = pageData.location.search.replace(\"?s=\", \"\");\n    if (searchQuery.includes(\"?\"))\n    {\n        searchQuery = null;\n    }\n    return (<Layout>\n        <Helmet>\n            <title>Search results</title>\n        </Helmet>\n        <main>\n            <SearchResults searchQuery={searchQuery} />\n        </main>\n    </Layout>);\n}"],"sourceRoot":""}